<ion-header translucent>
  <ion-toolbar>
    <ion-title>{{ dayTitle }}</ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear" color="medium" (click)="close()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="lista-eventos-modal ion-padding">
  <section *ngIf="day">
    <header class="modal-summary">
      <div class="summary-label">
        <ion-icon name="calendar-outline"></ion-icon>
        <div>
          <p>{{ day.weekday }}</p>
          <h2>{{ day.label }}</h2>
        </div>
      </div>
      <ion-badge color="primary">{{ day.total }} evento(s)</ion-badge>
    </header>

    <ion-list *ngIf="hasEvents; else emptyState" lines="full">
      <ion-item *ngFor="let evento of day.events; trackBy: trackByEvento">
        <ion-note slot="start" color="primary">{{ evento.hora_local }}</ion-note>
        <ion-label>
          <h3>{{ evento.evento || 'Evento sem título' }}</h3>
          <p *ngIf="evento.cliente">Cliente: {{ evento.cliente.nome }}</p>
          <p *ngIf="evento.usuario">Responsável: {{ evento.usuario.nome }}</p>
        </ion-label>
        <ion-badge slot="end" [color]="badgeColor(evento.confirmado)">{{ badgeLabel(evento.confirmado) }}</ion-badge>
      </ion-item>
    </ion-list>
  </section>

  <ng-template #emptyState>
    <div class="empty-state">
      <ion-icon name="sparkles-outline"></ion-icon>
      <p>Nenhum evento registrado para este dia.</p>
    </div>
  </ng-template>
</ion-content>
